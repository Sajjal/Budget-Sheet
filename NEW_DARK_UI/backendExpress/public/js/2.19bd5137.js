(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{3299:function(t,e,a){"use strict";a("e6cf");var s=a("bc3a"),i=a.n(s),o=a("4360");const n="/",r=()=>{async function t(t){try{const e=await i.a.post(`${n}auth/login`,{accessCode:t});return e.data}catch(e){return{Error:e.response.data.Error}}}async function e(t){try{return void await i.a.post(`${n}add`,t)}catch(e){return{Error:e.response.data.Error}}}async function a(t){try{return void await i.a.post(`${n}edit`,t)}catch(e){return{Error:e.response.data.Error}}}async function s(t){try{const e=await i.a.post(`${n}search`,t);return c(e.data.data,e.data.balance)}catch(e){return{Error:e.response.data.Error}}}async function r(){try{return void await i.a.post(`${n}auth/logout`,{})}catch(t){return{Error:t.response.data.Error}}}function c(t,e){let a={Salary:0,Bonus:0,Rewards:0,Other:0},s={Grocery:0,Rent:0,Utilities:0,Insurance:0,Travel:0,Vehicle:0,Miscellaneous:0,Family:0},i={expensesTransactions:[],incomeTransactions:[],allTransactions:[],financialStatus:{Income:0,Expenses:0}};for(let o=0;o<t.length;o++)t[o].amount=Number(parseFloat(t[o].amount).toFixed(2)),"Grocery"==t[o].category&&(t[o].icon="local_grocery_store",t[o].color="orange-10",s["Grocery"]=Number(parseFloat(s["Grocery"]+t[o].amount).toFixed(2))),"Rent"==t[o].category&&(t[o].icon="home",t[o].color="red",s["Rent"]=Number(parseFloat(s["Rent"]+t[o].amount).toFixed(2))),"Utilities"==t[o].category&&(t[o].icon="lightbulb",t[o].color="red-9",s["Utilities"]=Number(parseFloat(s["Utilities"]+t[o].amount).toFixed(2))),"Insurance"==t[o].category&&(t[o].icon="security",t[o].color="pink-14",s["Insurance"]=Number(parseFloat(s["Insurance"]+t[o].amount).toFixed(2))),"Travel"==t[o].category&&(t[o].icon="flight_takeoff",t[o].color="red-14",s["Travel"]=Number(parseFloat(s["Travel"]+t[o].amount).toFixed(2))),"Vehicle"==t[o].category&&(t[o].icon="commute",t[o].color="red-5",s["Vehicle"]=Number(parseFloat(s["Vehicle"]+t[o].amount).toFixed(2))),"Family"==t[o].category&&(t[o].icon="people",t[o].color="pink-13",s["Family"]=Number(parseFloat(s["Family"]+t[o].amount).toFixed(2))),"Miscellaneous"==t[o].category&&(t[o].icon="extension",t[o].color="pink",s["Miscellaneous"]=Number(parseFloat(s["Miscellaneous"]+t[o].amount).toFixed(2))),"Salary"==t[o].category&&(t[o].icon="paid",t[o].color="positive",a["Salary"]=Number(parseFloat(a["Salary"]+t[o].amount).toFixed(2))),"Bonus"==t[o].category&&(t[o].icon="payments",t[o].color="secondary",a["Bonus"]=Number(parseFloat(a["Bonus"]+t[o].amount).toFixed(2))),"Rewards"==t[o].category&&(t[o].icon="savings",t[o].color="teal",a["Rewards"]=Number(parseFloat(a["Rewards"]+t[o].amount).toFixed(2))),"Other"==t[o].category&&(t[o].icon="pending",t[o].color="light-green",a["Other"]=Number(parseFloat(a["Other"]+t[o].amount).toFixed(2))),"income"==t[o].type&&(i.financialStatus.Income+=t[o].amount,i.incomeTransactions.push(t[o])),"expenses"==t[o].type&&(i.financialStatus.Expenses+=t[o].amount,i.expensesTransactions.push(t[o])),t[o].date=t[o].date.split("T")[0];i.allTransactions=t,i.income=a,i.expenses=s,i.financialStatus.Income=Number(parseFloat(i.financialStatus.Income).toFixed(2)),i.financialStatus.Expenses=Number(parseFloat(i.financialStatus.Expenses).toFixed(2)),e&&o["a"].dispatch("updateBalance",{id:e._id,amount:Number(parseFloat(e.balance).toFixed(2))}),o["a"].dispatch("updateChartOptions",i.financialStatus),o["a"].dispatch("updateTransactions",i)}return{login:t,addData:e,editData:a,searchData:s,logout:r}};e["a"]=r},5485:function(t,e,a){"use strict";a("b815")},"8b24":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"flex column text-white shadow-2 ",staticStyle:{width:"450px"}},[a("q-toolbar",{staticClass:"bg-black text-white q-pt-sm q-pb-sm q-mb-sm"},[a("q-icon",{staticClass:"q-ml-none q-pl-none",attrs:{name:"assessment",size:"3em",flat:""}}),a("q-toolbar-title",[a("q-item-label",{staticClass:"text-white"},[t._v(" S & D Budget Sheet")]),a("q-item-label",{staticClass:"text-grey-3",attrs:{caption:"",lines:"2"}},[t._v(t._s(t.datesHeader.from)+" to "+t._s(t.datesHeader.to))])],1),a("q-btn",{attrs:{round:"",color:"primary",icon:"date_range",dense:""}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{range:"",dark:"",minimal:"",mask:"YYYY-MM-DD"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}},[a("div",{staticClass:"row items-center justify-end"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Search",icon:"search",color:"primary",flat:""},on:{click:t.explore}})],1)])],1)],1),a("q-btn",{staticClass:"q-ml-sm q-mr-sm",attrs:{round:"",color:"negative",icon:"logout",dense:""},on:{click:t.logout}})],1),t.$store.state.balance?a("div",[a("div",{staticClass:"summary"},[a("q-item",[a("q-item-section",[a("PieChart")],1),a("q-item-section",{staticClass:"q-pa-sm"},[a("div",{staticClass:"q-pl-sm"},[a("q-item",{staticClass:"bg-grey-2 text-black soft-border"},[a("q-icon",{attrs:{left:"",size:"3em",name:"account_balance",color:"black"}}),a("q-item-section",[a("q-item-label",{staticClass:"subheading"},[t._v(" Balance")]),a("q-item-label",{class:t.$store.state.balance.amount>0?"text-positive text-subtitle2":"text-negative text-subtitle2"},[t._v(" $"+t._s(t.$store.state.balance.amount)+" ")])],1)],1),a("q-item",{staticClass:"bg-grey-2 text-black q-mt-sm soft-border"},[a("q-item-section",[t.$store.state.transactions.financialStatus?a("q-chip",{staticClass:"bg-grey-2 text-subtitle2 text-positive q-pl-sm q-ml-none q-mb-none q-pr-none q-mr-none",attrs:{square:""}},[a("q-icon",{staticClass:"q-mr-md",attrs:{name:"local_atm",size:"2em"}}),t._v(" $"+t._s(t.$store.state.transactions.financialStatus.Income)+"\n                ")],1):t._e(),t.$store.state.transactions.financialStatus?a("q-chip",{staticClass:"bg-grey-2 q-mt-none q-pt-none text-subtitle2 text-negative q-pl-sm q-ml-none q-mb-none q-pb-none q-pr-none q-mr-none",attrs:{square:""}},[a("q-icon",{staticClass:"q-mr-md",attrs:{name:"moving",size:"2em"}}),t._v(" $"+t._s(t.$store.state.transactions.financialStatus.Expenses)+"\n                ")],1):t._e()],1)],1)],1)])],1)],1),a("div",{staticClass:"transactions q-mt-sm"},[a("q-item",{staticClass:"q-pl-sm q-pr-lg q-mb-sm shadow-2"},[a("q-item-section",{staticClass:"text-h6 q-pl-sm"},[t._v("\n          "+t._s(t.currentSelection)+"\n        ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticStyle:{cursor:"pointer"},attrs:{name:"list_alt"},on:{click:t.showAllTransactions}})],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticStyle:{cursor:"pointer"},attrs:{name:"local_atm"},on:{click:t.showIncome}})],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticStyle:{cursor:"pointer"},attrs:{name:"moving"},on:{click:t.showExpenses}})],1),t.add?t._e():a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticStyle:{cursor:"pointer"},attrs:{name:"edit"},on:{click:function(e){t.edit=!t.edit}}})],1),a("q-item-section",{attrs:{side:""}},[a("q-avatar",{staticStyle:{cursor:"pointer"},attrs:{color:t.addButtonColor,"text-color":"white",icon:"add"},on:{click:t.addNew}})],1)],1),t.add?a("div",[a("InputForm",{attrs:{editFields:t.editFields}})],1):a("div",{staticClass:"history"},[t.displayFilter?a("q-select",{staticClass:"q-pl-lg q-pr-lg q-pb-md",attrs:{borderless:"",dense:"",options:t.filterCategory,label:"Filter by Category...",dark:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}):t._e(),t._l(t.transactionsToShow,(function(e){return a("q-item",{key:e._id,staticClass:"q-pl-md q-pr-lg"},[a("q-item-section",{attrs:{top:"",avatar:""}},[a("q-avatar",{attrs:{color:e.color,"text-color":"white",icon:e.icon}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.description))]),a("q-item-label",{staticClass:"text-white",attrs:{caption:"",lines:"2"}},[t._v(t._s(e.date))])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{class:"income"==e.type?"text-positive text-subtitle2":"text-negative text-subtitle2"},[t._v("\n              "+t._s("income"==e.type?"+$"+e.amount:"-$"+e.amount)+"\n            ")])],1),t.edit?a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticStyle:{cursor:"pointer"},attrs:{name:"edit",size:"xs"},on:{click:function(a){return t.editData(e)}}})],1):t._e()],1)}))],2)],1)]):a("div",[a("q-page",{staticClass:"flex column text-white container q-pa-md"},[a("q-input",{attrs:{dark:"",filled:"",type:"number",label:"Opening Balance ($)"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addOpeningBalance(e)}},model:{value:t.balance,callback:function(e){t.balance=e},expression:"balance"}}),a("q-btn",{staticClass:"q-mt-md",attrs:{color:"primary","icon-right":"send",label:"Submit"},on:{click:t.addOpeningBalance}})],1)],1)],1)},i=[],o=(a("e6cf"),a("bd4c")),n=a("3299"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("apexchart",{attrs:{type:"pie",height:"185",options:t.chartOptions,series:t.series}})},c=[],l=a("7053"),d=a.n(l),u={name:"ApexSimplePieChart",data(){return{series:[],chartOptions:{colors:["#24d17d","#d14c24","#4287f5","#f5b342","#f58442","#42bcf5","#4e42f5","#6d48b5","#a240b8","#80294e"],chart:{type:"pie",toolbar:{show:!1}},labels:[],dataLabels:{enabled:!1},legend:{show:!1}}}},mounted(){this.getLabelsAndSeries(),this.unsubscribe=this.$store.subscribe(((t,e)=>{"updateChartOptions"===t.type&&this.getLabelsAndSeries()}))},beforeDestroy(){this.unsubscribe()},methods:{getLabelsAndSeries(){this.series=Object.values(this.$store.state.chartOptions),this.chartOptions=d()(d()({},this.chartOptions),{labels:Object.keys(this.$store.state.chartOptions)})}}},m=u,p=a("2877"),h=Object(p["a"])(m,r,c,!1,null,null,null),b=h.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"q-gutter-lg q-mb-sm q-pl-xs"},[a("q-radio",{attrs:{dark:"",val:"income",label:"Income"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),a("q-radio",{attrs:{dark:"",val:"expenses",label:"Expense"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),a("div",{staticClass:"q-pl-md q-pr-lg"},["income"==t.type?a("q-select",{staticClass:"q-pb-md",attrs:{options:t.incCategory,label:"Income Source",dark:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}):t._e(),"expenses"==t.type?a("q-select",{staticClass:"q-pb-md",attrs:{options:t.expCategory,label:"Expense Category",dark:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}):t._e(),a("q-input",{staticClass:"q-pb-md",attrs:{dark:"",outline:"",label:"Description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),a("q-input",{staticClass:"q-pb-md",attrs:{dark:"",outline:"",type:"number",label:"Amount ($)"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),t.error?a("q-banner",{staticClass:"text-white bg-red q-mt-xs q-mb-sm",attrs:{dense:""}},[t._v(" "+t._s(t.error)+" ")]):t._e(),t.success?a("q-banner",{staticClass:"text-white bg-positive q-mt-xs q-mb-sm",attrs:{dense:""}},[t._v(" "+t._s(t.success)+" ")]):t._e(),a("q-btn-group",{staticClass:"q-mt-sm"},[a("q-btn",{attrs:{color:"positive",icon:t.edit?"edit":"add",outline:"",label:t.label},on:{click:t.addRecord}}),a("q-btn",{staticClass:"q-ml-md",attrs:{color:"warning",icon:"close",outline:"",label:"Reset"},on:{click:t.resetForm}})],1)],1)])},g=[],q=(a("e01a"),{props:["editFields"],data(){return{error:null,success:null,type:"",category:null,description:"",amount:"",balance:0,edit:!1,label:"Add Record",incCategory:["Salary","Bonus","Rewards","Other"],expCategory:["Grocery","Rent","Utilities","Vehicle","Family","Insurance","Travel","Miscellaneous"]}},watch:{type:function(){this.category=null}},created(){this.editFields.type?(this.edit=!0,this.type=this.editFields.type,this.category=this.editFields.category,this.description=this.editFields.description,this.amount=this.editFields.amount,this.label="Edit Record"):this.edit=!1},methods:{async addRecord(){if(this.success=null,!this.type)return this.error="Select Income or Expense!";if("income"==this.type&&!this.category)return this.error="Select Income Source!";if("expenses"==this.type&&!this.category)return this.error="Select Expense Category!";if(!this.description)return this.error="Description is Required!";if(!this.amount)return this.error="Amount is Required!";try{let t=new Date(this.editFields.date).toISOString();if(this.edit){const e={date:t,type:this.type,category:this.category,description:this.description.toString(),amount:this.amount.toString()};await Object(n["a"])().editData({id:this.editFields._id,data:e}),this.success="Record Updated Successfully!"}else{const e={date:t,type:this.type,category:this.category,description:this.description.toString(),amount:this.amount.toString()};await Object(n["a"])().addData({data:e}),this.success="Record Added Successfully!"}let e=this.$store.state.balance;this.edit?("income"==this.type&&(this.balance=Number(e.amount)+Number(this.amount)-Number(this.editFields.amount)),"expenses"==this.type&&(this.balance=Number(e.amount)-Number(this.amount)+Number(this.editFields.amount))):("income"==this.type&&(this.balance=Number(e.amount)+Number(this.amount)),"expenses"==this.type&&(this.balance=Number(e.amount)-Number(this.amount))),await Object(n["a"])().editData({id:e.id,type:"balance",data:{balance:Number(parseFloat(this.balance).toFixed(2))}}),await Object(n["a"])().searchData({data:this.$store.state.dateRange})}catch(t){return void(this.error="Error on Server!")}this.error=this.type=this.description=this.amount=this.category=this.date=this.readAbleDate=null},resetForm(){this.type=this.description=this.amount=this.category=null}}}),f=q,x=a("3786"),v=a("ddd8"),w=a("27f9"),C=a("54e1"),S=a("e7a9"),F=a("9c40"),D=a("eebe"),_=a.n(D),$=Object(p["a"])(f,y,g,!1,null,null,null),k=$.exports;_()($,"components",{QRadio:x["a"],QSelect:v["a"],QInput:w["a"],QBanner:C["a"],QBtnGroup:S["a"],QBtn:F["a"]});var R={name:"Index",components:{PieChart:b,InputForm:k},data(){return{add:!1,edit:!1,editFields:{},balance:null,datesHeader:{from:"",to:"",today:""},addButtonColor:"primary",dateRange:{from:"",to:""},currentSelection:"Transactions",transactionsToShow:[],displayFilter:!1,category:"",incCategory:["Salary","Bonus","Rewards","Other"],expCategory:["Grocery","Rent","Utilities","Vehicle","Family","Insurance","Travel","Miscellaneous"],filterCategory:[]}},async mounted(){this.getDate();let t={from:this.dateRange.from,to:this.dateRange.to};this.$store.dispatch("updateDateRange",t),await this.getData(),this.transactionsToShow=this.$store.state.transactions.allTransactions},watch:{category:function(){if(this.category){let t=[];for(let e=0;e<this.$store.state.transactions.allTransactions.length;e++)this.$store.state.transactions.allTransactions[e].category==this.category&&t.push(this.$store.state.transactions.allTransactions[e]);this.transactionsToShow=t}}},methods:{async getData(){let t={from:this.dateRange.from,to:this.dateRange.to};return this.dateRange={},await Object(n["a"])().searchData({data:t})},showIncome(){this.add=!1,this.currentSelection="Income",this.addButtonColor="primary",this.edit=!1,this.displayFilter=!0,this.category=null,this.filterCategory=this.incCategory,this.transactionsToShow=this.$store.state.transactions.incomeTransactions,this.$store.dispatch("updateChartOptions",this.$store.state.transactions.income)},showExpenses(){this.add=!1,this.currentSelection="Expenses",this.addButtonColor="primary",this.edit=!1,this.category=null,this.displayFilter=!0,this.filterCategory=this.expCategory,this.transactionsToShow=this.$store.state.transactions.expensesTransactions,this.$store.dispatch("updateChartOptions",this.$store.state.transactions.expenses)},showAllTransactions(){this.add=!1,this.currentSelection="Transactions",this.addButtonColor="primary",this.edit=!1,this.category=null,this.displayFilter=!1,this.transactionsToShow=this.$store.state.transactions.allTransactions,this.$store.dispatch("updateChartOptions",this.$store.state.transactions.financialStatus)},async explore(){this.displayFilter=!1,this.category=null,this.getDate(this.dateRange),await this.getData(),this.transactionsToShow=this.$store.state.transactions.allTransactions},addNew(){this.add||(this.editFields={category:null,date:this.datesHeader.today},this.add=!0,this.currentSelection="Add Record")},editData(t){this.addButtonColor="grey-5",this.editFields=t,this.add=!0,this.currentSelection="Edit Record"},getDate(t=null){if(t){let e=t.from.split("-");e=new Date(Number(e[0]),Number(e[1])-1,Number(e[2]));let a=t.to.split("-");a=new Date(Number(a[0]),Number(a[1])-1,Number(a[2]));let s=o["b"].addToDate(a,{days:1});this.dateRange.from=o["b"].formatDate(e,"YYYY-MM-DD"),this.dateRange.to=o["b"].formatDate(s,"YYYY-MM-DD"),this.datesHeader.from=o["b"].formatDate(e,"DD MMM YYYY"),this.datesHeader.to=o["b"].formatDate(a,"DD MMM YYYY")}else{let t=Date.now(),e=o["b"].formatDate(t,"YYYY-MM-DD"),a=o["b"].formatDate(t,"DD MMM YYYY"),s=e.split("-"),i=a.split(" "),n=`01 ${i[1]} ${i[2]}`,r=new Date(s[0],s[1]-1,s[2]);r=o["b"].addToDate(r,{days:1}),this.dateRange.from=`${s[0]}-${s[1]}-01`,this.dateRange.to=o["b"].formatDate(r,"YYYY-MM-DD"),this.datesHeader.today=o["b"].formatDate(t,"YYYY-MM-DD"),this.datesHeader.from=n,this.datesHeader.to=a}},async addOpeningBalance(){return await Object(n["a"])().addData({type:"balance",data:{balance:this.balance}}),await Object(n["a"])().addData({data:{date:new Date(this.datesHeader.today).toISOString(),type:"income",category:"Other",description:"Opening Balance",amount:this.balance.toString()}}),await Object(n["a"])().searchData({data:this.$store.state.dateRange})},async logout(){await Object(n["a"])().logout(),this.$router.push({name:"Login"})}}},O=R,T=(a("5485"),a("9989")),N=a("65c6"),Y=a("0016"),E=a("6ac5"),I=a("0170"),M=a("7cbe"),B=a("52ee"),Q=a("66e5"),j=a("4074"),A=a("b047"),H=a("cb32"),G=a("7f67"),P=Object(p["a"])(O,s,i,!1,null,null,null);e["default"]=P.exports;_()(P,"components",{QPage:T["a"],QToolbar:N["a"],QIcon:Y["a"],QToolbarTitle:E["a"],QItemLabel:I["a"],QBtn:F["a"],QPopupProxy:M["a"],QDate:B["a"],QItem:Q["a"],QItemSection:j["a"],QChip:A["a"],QAvatar:H["a"],QSelect:v["a"],QInput:w["a"]}),_()(P,"directives",{ClosePopup:G["a"]})},b815:function(t,e,a){}}]);